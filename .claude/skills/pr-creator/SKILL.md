---
name: pr-creator
description: Intelligent PR creation assistant for Silent Feed project. Use this skill when the user wants to create a pull request, needs help with PR description, or mentions "åˆ›å»ºPR" / "create PR". Analyzes commits and code changes to generate comprehensive, well-structured PR descriptions following project conventions.
---

# PR Creator Skill

æ™ºèƒ½ PR åˆ›å»ºåŠ©æ‰‹ï¼Œä¸“ä¸º Silent Feed é¡¹ç›®ä¼˜åŒ–ã€‚

## è§¦å‘æ¡ä»¶

å½“ç”¨æˆ·æåˆ°ä»¥ä¸‹ä»»ä¸€æƒ…å†µæ—¶ä½¿ç”¨æ­¤ skillï¼š
- "åˆ›å»º PR" / "create PR"
- "ç”Ÿæˆ PR æè¿°"
- "å¸®æˆ‘å†™ PR è¯´æ˜Ž"
- "åˆ†æžè¿™äº›æäº¤"
- å‡†å¤‡åˆå¹¶ä»£ç åˆ° master

## æ ¸å¿ƒåŠŸèƒ½

### 1. æäº¤åˆ†æž

```bash
# èŽ·å–æ‰€æœ‰å¾…åˆå¹¶çš„æäº¤
git log origin/master..HEAD --oneline

# èŽ·å–è¯¦ç»†æäº¤ä¿¡æ¯
git log origin/master..HEAD --pretty=format:"%h %s%n%b"

# æŸ¥çœ‹å˜æ›´æ–‡ä»¶
git diff --name-status origin/master..HEAD

# æŸ¥çœ‹ä»£ç å·®å¼‚
git diff origin/master..HEAD --stat
```

### 2. æ™ºèƒ½åˆ†ç±»

æ ¹æ®æäº¤å’Œæ–‡ä»¶å˜æ›´è‡ªåŠ¨è¯†åˆ«ï¼š

**å˜æ›´ç±»åž‹**ï¼š
- `feat:` / `feature/` â†’ æ–°åŠŸèƒ½
- `fix:` / `bugfix` â†’ Bug ä¿®å¤
- `refactor:` â†’ é‡æž„
- `perf:` â†’ æ€§èƒ½ä¼˜åŒ–
- `docs:` â†’ æ–‡æ¡£æ›´æ–°
- `test:` â†’ æµ‹è¯•ç›¸å…³
- `chore:` â†’ æž„å»º/å·¥å…·é“¾

**å½±å“èŒƒå›´**ï¼š
- `src/core/` â†’ æ ¸å¿ƒåŠŸèƒ½
- `src/components/` â†’ UI ç»„ä»¶
- `src/storage/` â†’ æ•°æ®å­˜å‚¨
- `src/background.ts` â†’ åŽå°æœåŠ¡
- `*.test.ts` â†’ æµ‹è¯•è¦†ç›–

**ç‰ˆæœ¬å»ºè®®**ï¼ˆåŸºäºŽ Semantic Versioningï¼‰ï¼š
- åŒ…å« `!` æˆ– `BREAKING` â†’ major
- åŒ…å« `feat:` â†’ minor
- åŒ…å« `fix:` / `refactor:` â†’ patch

### 3. PR æè¿°ç»“æž„

ç”Ÿæˆç¬¦åˆé¡¹ç›®è§„èŒƒçš„ PR æè¿°ã€‚

**å‚è€ƒæ¨¡æ¿**: æŸ¥çœ‹ [references/pr-template.md](references/pr-template.md) äº†è§£å®Œæ•´çš„ PR æè¿°ç»“æž„ã€‚

**æ ¸å¿ƒéƒ¨åˆ†**ï¼š
- ðŸ¤« æ¦‚è¿° - ä¸€å¥è¯æ€»ç»“
- ðŸ“ å˜æ›´å†…å®¹ - ä¸»è¦åŠŸèƒ½å’Œæ¬¡è¦æ”¹è¿›
- ðŸŽ¯ è§£å†³çš„é—®é¢˜ - éœ€æ±‚èƒŒæ™¯
- ðŸ’¡ æŠ€æœ¯å®žçŽ° - æž¶æž„ã€ä»£ç ã€ä¾èµ–
- ðŸ§ª æµ‹è¯• - è¦†ç›–çŽ‡å’Œæµ‹è¯•åœºæ™¯
- ðŸ“Š å½±å“èŒƒå›´ - æ–‡ä»¶ã€æ¨¡å—ã€å…¼å®¹æ€§
- âœ… æ£€æŸ¥æ¸…å• - å®Œæˆåº¦ç¡®è®¤

æ ¹æ®å®žé™…å˜æ›´å†…å®¹çµæ´»è°ƒæ•´ç« èŠ‚ï¼Œä¸éœ€è¦çš„å¯ä»¥çœç•¥ã€‚

### 4. ç‰¹æ®Šè€ƒè™‘

**Silent Feed é¡¹ç›®ç‰¹æ€§**ï¼š
- ä½¿ç”¨ ðŸ¤« emoji ä½œä¸ºå“ç‰Œæ ‡è¯†
- æŽ¨èç³»ç»Ÿæž¶æž„ï¼šåŽŸæ–™æ±  â†’ AIåˆ†æž â†’ å€™é€‰æ±  â†’ æŽ¨èæ± 
- æ•°æ®åº“ä½¿ç”¨ Dexieï¼ˆIndexedDBï¼‰
- æµ‹è¯•æ¡†æž¶ Vitestï¼Œè¦†ç›–çŽ‡è¦æ±‚ â‰¥70%
- i18n ä½¿ç”¨ react-i18nextï¼Œæ‰€æœ‰ç”¨æˆ·å¯è§æ–‡æœ¬éœ€ `_()` åŒ…è£¹
- Chrome MV3 æ‰©å±•æž¶æž„

**ç‰ˆæœ¬å·è§„åˆ™**ï¼š
- å½“å‰ç‰ˆæœ¬ä»Ž `package.json` è¯»å–
- éœ€è¦æ£€æŸ¥æ˜¯å¦å·²æ›´æ–°ç‰ˆæœ¬å·
- å»ºè®®æ›´æ–°æ–¹å¼ï¼š`npm run version:patch/minor/major`

## å·¥ä½œæµç¨‹

1. **åˆ†æžå˜æ›´**
   ```bash
   # è¿è¡Œå‘½ä»¤èŽ·å–æäº¤å’Œå·®å¼‚
   git log origin/master..HEAD --oneline
   git diff --stat origin/master..HEAD
   ```

2. **ç†è§£è¯­ä¹‰**
   - é˜…è¯»æäº¤ä¿¡æ¯ç†è§£å˜æ›´æ„å›¾
   - æŸ¥çœ‹å…³é”®æ–‡ä»¶çš„ diffï¼ˆå¦‚éœ€è¦ï¼‰
   - è¯†åˆ«æµ‹è¯•è¦†ç›–æƒ…å†µ

3. **ç”Ÿæˆæè¿°**
   - è¯»å–æ¨¡æ¿ï¼šæŸ¥çœ‹ `references/pr-template.md`
   - æŒ‰æ¨¡æ¿ç»“æž„ç»„ç»‡å†…å®¹
   - ä½¿ç”¨é¡¹ç›®çº¦å®šçš„ emoji å’Œæœ¯è¯­
   - ç¡®ä¿æè¿°æ¸…æ™°ã€å‡†ç¡®ã€å®Œæ•´

4. **åˆ›å»ºæ–‡ä»¶**
   ```bash
   # å°† PR æè¿°ä¿å­˜åˆ°é¡¹ç›®ç›®å½•
   cat > .github/PR_DESCRIPTION.md << 'EOF'
   [ç”Ÿæˆçš„ PR æè¿°]
   EOF
   ```

5. **æ‰§è¡Œåˆ›å»º**
   ```bash
   # ä½¿ç”¨æ–‡ä»¶åˆ›å»º PR
   gh pr create \
     --title "type: ç®€çŸ­æ ‡é¢˜" \
     --body-file .github/PR_DESCRIPTION.md \
     --label "label1,label2"
   ```

## ç¤ºä¾‹å¯¹è¯

**ç”¨æˆ·**ï¼šå¸®æˆ‘åˆ›å»ºä¸€ä¸ª PRï¼ŒåŒ…å«æœ€è¿‘çš„æäº¤

**åŠ©æ‰‹è¡ŒåŠ¨**ï¼š
1. è¿è¡Œ `git log origin/master..HEAD` æŸ¥çœ‹æäº¤
2. è¿è¡Œ `git diff --stat origin/master..HEAD` æŸ¥çœ‹å˜æ›´
3. åˆ†æžæäº¤ä¿¡æ¯ï¼Œè¯†åˆ«å˜æ›´ç±»åž‹
4. ç”Ÿæˆç»“æž„åŒ– PR æè¿°
5. ä¿å­˜åˆ° `/tmp/pr-description.md`
6. è¯¢é—®æ ‡é¢˜å’Œæ ‡ç­¾
7. æ‰§è¡Œ `gh pr create --body-file /tmp/pr-description.md`

## æç¤ºè¯æ¨¡æ¿

å½“ç”¨æˆ·è¯·æ±‚åˆ›å»º PR æ—¶ï¼Œä½¿ç”¨æ­¤æ¨¡æ¿ï¼š

1. **åˆ†æžå˜æ›´**
   - è¿è¡Œ git å‘½ä»¤èŽ·å–æäº¤å’Œå·®å¼‚
   - ç†è§£å˜æ›´çš„è¯­ä¹‰å’Œå…³è”

2. **ç”Ÿæˆæè¿°**
   - æ ¹æ® `references/pr-template.md` ç»“æž„
   - å¡«å……å®žé™…çš„å˜æ›´å†…å®¹
   - è°ƒæ•´ç« èŠ‚ï¼ˆçœç•¥ä¸éœ€è¦çš„éƒ¨åˆ†ï¼‰

3. **äº¤äº’ç¡®è®¤**
   - æ˜¾ç¤ºç”Ÿæˆçš„ PR æè¿°
   - è¯¢é—®æ ‡é¢˜å’Œæ ‡ç­¾
   - ç¡®è®¤åŽåˆ›å»º PR

**ç¤ºä¾‹è¾“å‡º**ï¼š

è®©æˆ‘åˆ†æžä¸€ä¸‹å½“å‰åˆ†æ”¯çš„å˜æ›´...

æ ¹æ®åˆ†æžï¼Œè¿™ä¸ª PR çš„ä¸»è¦å˜æ›´æ˜¯ï¼š
- å“ç‰Œ emoji æ›´æ–°ï¼ˆðŸ“° â†’ ðŸ¤«ï¼‰
- æ·»åŠ è‡ªåŠ¨ç‰ˆæœ¬æ£€æŸ¥æœºåˆ¶

å»ºè®®ç‰ˆæœ¬ç±»åž‹ï¼šminorï¼ˆåŒ…å«æ–°åŠŸèƒ½ï¼‰
å»ºè®®æ ‡ç­¾ï¼šenhancement, refactor

æˆ‘å°†æ ¹æ®æ¨¡æ¿ç”Ÿæˆè¯¦ç»†çš„ PR æè¿°...

[æ˜¾ç¤ºç”Ÿæˆçš„å®Œæ•´ PR æè¿°]

PR æè¿°å·²ä¿å­˜åˆ° .github/PR_DESCRIPTION.md

å»ºè®®çš„ PR æ ‡é¢˜ï¼š"refactor: å“ç‰Œä¼˜åŒ–ä¸Žæ™ºèƒ½ç‰ˆæœ¬ç®¡ç†"

æ˜¯å¦ä½¿ç”¨æ­¤æ ‡é¢˜åˆ›å»º PRï¼Ÿ

## æ³¨æ„äº‹é¡¹

1. **æ•æ„Ÿä¿¡æ¯**ï¼šæ£€æŸ¥ PR æè¿°ä¸­ä¸è¦åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆAPI keysã€å¯†ç ç­‰ï¼‰
2. **æµ‹è¯•çŠ¶æ€**ï¼šç¡®è®¤æµ‹è¯•å·²é€šè¿‡å†åˆ›å»º PR
3. **ç‰ˆæœ¬å·**ï¼šæé†’ç”¨æˆ·æ£€æŸ¥ç‰ˆæœ¬å·æ˜¯å¦å·²æ›´æ–°
4. **å›¾ç‰‡èµ„æº**ï¼šå¦‚æœ‰ UI å˜æ›´ï¼Œå»ºè®®ç”¨æˆ·æä¾›æˆªå›¾
5. **å‘åŽå…¼å®¹**ï¼šæ˜Žç¡®æ ‡æ³¨æ˜¯å¦æœ‰ç ´åæ€§å˜æ›´

## å¿«æ·å‘½ä»¤å‚è€ƒ

```bash
# æŸ¥çœ‹æäº¤
git log origin/master..HEAD --oneline

# æŸ¥çœ‹è¯¦ç»†å˜æ›´
git log origin/master..HEAD --stat

# æŸ¥çœ‹æ–‡ä»¶å·®å¼‚
git diff origin/master..HEAD

# åˆ›å»º PR
gh pr create --title "xxx" --body-file /tmp/pr-description.md

# æ·»åŠ æ ‡ç­¾
gh pr edit --add-label "enhancement,feature"
```
