# 浏览器测试指南 - fix/pending-bugs 分支

**测试日期**: 2025-11-24  
**分支**: fix/pending-bugs  
**构建版本**: build/chrome-mv3-prod

---

## 📦 加载扩展

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择目录：`/Users/xingyuwang/develop/SilentFeed/build/chrome-mv3-prod`

---

## 🧪 测试用例

### ✅ 测试 1: 推荐条目排序问题（已修复）

**目标**: 验证点击"不想读"后，新填充的推荐条目按分数倒序排列

**前置条件**:
- 需要有至少 5 条未读推荐（确保点击后能填充新条目）
- 如果推荐不足，可以在设置页手动触发生成更多推荐

**测试步骤**:
1. 打开扩展弹窗，查看推荐列表
2. 记录当前显示的推荐条目（应该按分数降序）
3. 点击某一条推荐右上角的"×"（不想读）
4. 观察新填充的推荐条目

**预期结果**:
- ✅ 新填充的条目应该按推荐分数倒序插入正确位置
- ✅ 整个列表始终保持分数从高到低排序
- ✅ 不会出现低分条目排在高分条目前面的情况

**验证方法**:
- 可以在开发者工具 Console 中查看日志：`[RecommendationStore] 重新加载未读推荐`
- 日志会显示排序信息：`sorted: true`

---

### ✅ 测试 2: RSS 数据不足时的友好提示（已修复）

**目标**: 验证无 RSS 数据时显示温和提示，而非错误

**测试场景 A: 完全没有 RSS 源**

**测试步骤**:
1. 进入设置页 → RSS 订阅管理
2. 删除所有订阅源（如果有的话）
3. 打开扩展弹窗
4. 观察空状态提示

**预期结果**:
- ✅ 显示"✨ 暂无推荐"
- ✅ 显示"稍后再来看看吧"
- ❌ 不应该显示红色错误消息
- ❌ 不应该显示"推荐生成失败"

**测试场景 B: 有 RSS 源但无文章数据**

**测试步骤**:
1. 添加一个新的 RSS 源（但文章还未抓取）
2. 等待片刻或手动触发文章抓取
3. 观察空状态显示

**预期结果**:
- ✅ 同样显示友好的空状态提示
- ✅ 不显示错误消息

---

### ✅ 测试 3: 手动推荐按钮已删除

**目标**: 验证不再有手动生成推荐的按钮

**测试步骤**:
1. 打开扩展弹窗
   - 查看空状态页面
2. 打开设置页 → 智能分析配置
   - 查看底部按钮区域

**预期结果**:
- ❌ 弹窗空状态下不应该有"立即生成推荐"按钮
- ✅ 只显示"暂无推荐"和"稍后再来看看吧"
- ❌ 设置页不应该有"手动推荐"按钮
- ✅ 设置页只有"保存设置"按钮

---

### ✅ 测试 4: 测试通知按钮已删除

**目标**: 验证通知设置中不再有"测试通知"按钮

**测试步骤**:
1. 打开设置页
2. 切换到"通知设置"标签
3. 查看页面底部

**预期结果**:
- ❌ 不应该有"测试通知"按钮
- ✅ 只有通知开关和静默时段设置

---

## 🔍 额外验证

### 推荐自动生成机制

**验证推荐是否自动生成**:
1. 确保有 RSS 源订阅
2. 浏览一些页面（满足兴趣分析需求）
3. 等待后台定时任务触发（20分钟间隔）
4. 或者重启扩展触发初始化推荐

**查看后台日志**:
1. 访问 `chrome://extensions/`
2. 找到 Silent Feed 扩展
3. 点击"service worker"或"背景页"
4. 查看 Console 日志中是否有推荐生成的相关信息

---

## 📝 测试记录

### 测试 1: 推荐排序
- [ ] 通过
- [ ] 失败 - 原因：____________

### 测试 2: RSS 数据不足提示
- [ ] 通过
- [ ] 失败 - 原因：____________

### 测试 3: 手动推荐按钮已删除
- [ ] 通过
- [ ] 失败 - 原因：____________

### 测试 4: 测试通知按钮已删除
- [ ] 通过
- [ ] 失败 - 原因：____________

---

## 🐛 问题反馈

如果发现任何问题，请记录：

**问题描述**:


**重现步骤**:
1. 
2. 
3. 

**预期行为**:


**实际行为**:


**截图/日志**:


---

## ✅ 测试完成

测试完成后，请反馈：
- [ ] 所有测试通过，可以推送代码
- [ ] 发现问题，需要修复

