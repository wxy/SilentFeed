# Silent Feed v0.3.6 发布公告

> 发布日期：2025年12月22日

## 🎉 概述

Silent Feed v0.3.6 是一个 **功能增强和稳定性优化版本**。本次更新带来了 **Chrome 阅读列表集成**、**每日画像自动更新**、**推荐追踪优化** 等重要功能，并修复了多个推荐流程中的关键问题。

**核心改进**：
- 📚 **阅读列表集成**：一键保存推荐到 Chrome 原生阅读列表
- 🔄 **每日画像更新**：定时更新兴趣画像，持续学习用户偏好
- 🎯 **推荐质量提升**：提高质量阈值，激进质量控制
- 🔗 **追踪优化**：使用 Tab ID 追踪，解决谷歌翻译 URL 问题
- 🐛 **关键 Bug 修复**：徽章更新、RSS 解析、推荐流程

---

## 📚 Chrome 阅读列表集成

### 功能介绍

v0.3.6 集成了 Chrome 原生 Reading List API，支持"稍后读"功能：

- ✅ **一键保存**：推荐卡片新增"稍后读"按钮
- ✅ **原生体验**：保存到 Chrome 自带的阅读列表
- ✅ **跨设备同步**：登录 Chrome 账号后自动同步
- ✅ **无缝访问**：在书签栏或侧边栏随时访问

### 使用方式

1. 点击推荐卡片上的"稍后读"图标
2. 文章自动保存到 Chrome 阅读列表
3. 在 Chrome 侧边栏的"阅读列表"中查看

---

## 🔄 每日画像更新系统

### 新增功能

为保持兴趣画像的准确性，v0.3.6 新增每日自动更新机制：

- ✅ **定时更新任务**：每日自动触发画像更新
- ✅ **进度可视化**：更新进度显示在对话区域
- ✅ **状态持久化**：进度计数器保存到 `chrome.storage.local`
- ✅ **无感知运行**：后台静默处理，不打扰用户

### 技术实现

- 使用 Chrome Alarms API 实现定时任务
- 进度条显示当前更新进度
- 断点续传：浏览器重启后恢复进度

---

## 🎯 推荐系统优化

### 质量控制提升

- ✅ **质量阈值提升**：从 0.7 提高到 0.8
- ✅ **激进质量控制**：过滤更多低质量推荐
- ✅ **历史评分优化**：改进基准计算算法
- ✅ **池准入机制**：优化推荐候选池筛选

### 点击追踪优化

- ✅ **Tab ID 追踪**：使用 Tab ID 而非 URL 追踪阅读行为
- ✅ **解决翻译问题**：正确处理谷歌翻译后的 URL
- ✅ **即时移除**：点击后立即从推荐列表移除
- ✅ **状态持久化**：移除状态跨会话保存

---

## 🌐 翻译优化

### AI 摘要翻译

- ✅ **同步翻译**：AI 分析时同步翻译标题
- ✅ **避免重复调用**：无需单独调用翻译服务
- ✅ **交互优化**：默认翻译行为符合用户预期

### 谷歌翻译 URL 处理

- ✅ **RSS 检测器优化**：将翻译 URL 转换为原始 URL
- ✅ **正确追踪**：翻译页面访问正确计入学习数据

---

## 🐛 Bug 修复

### 徽章更新问题

**问题**：清除所有推荐后，扩展图标徽章数字不更新。

**修复**：修复推荐清除后的徽章同步逻辑。

### RSS CDATA 解析

**问题**：部分 RSS 源的 CDATA 包裹的分类信息无法正确解析。

**修复**：完整修复 CDATA 标签的解析逻辑。

### Content Script 存储访问

**问题**：Content Script 无法访问 chrome.storage。

**修复**：修复权限和访问方式。

### 推荐流程问题

修复了推荐流程中的多个关键问题：
- 推荐追踪机制统一
- 画像学习逻辑修复
- 模型配置日志显示
- 画像更新进度显示

---

## 🔧 技术改进

### 代码质量

- ✅ **调试日志清理**：清理 v0.3.2 以来积累的调试日志
- ✅ **测试覆盖率提升**：核心模块测试覆盖率进一步提升
- ✅ **代码重构**：统一推荐追踪机制，简化 Content Script

### 存储优化

- ✅ **配置迁移**：用户偏好从 `local` 迁移到 `sync` 存储
- ✅ **跨设备同步**：配置在登录 Chrome 账号后自动同步

### 测试改进

- 新增 session storage mock
- 适配策略 B 的测试用例

---

## 📊 测试与质量

### 测试覆盖率

| 指标 | 数值 |
|------|------|
| 测试文件 | 105 个 |
| 测试用例 | 1780+ 通过 |
| 行覆盖率 | 72.88% |
| 函数覆盖率 | 73.58% |
| 分支覆盖率 | 60.51% |

---

## 🚀 升级指南

### 从 v0.3.5 升级

1. 扩展会自动更新（Chrome Web Store）
2. 或手动下载新版本覆盖安装
3. 用户数据自动保留

### 新功能使用

- **阅读列表**：推荐卡片上新增的书签图标
- **每日更新**：自动运行，无需手动配置
- **翻译优化**：自动生效，体验更流畅

---

## 📝 已知问题

- 无重大已知问题

---

## 🙏 致谢

感谢所有反馈问题和提出建议的用户！

---

## 📖 相关文档

- [完整更新日志](../CHANGELOG.md)
- [用户手册](USER_GUIDE.md) | [中文版](USER_GUIDE_ZH.md)
- [隐私政策](../PRIVACY.md)
