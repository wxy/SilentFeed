# Phase 2 æµè§ˆå™¨æµ‹è¯•æŒ‡å—

## æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­æµ‹è¯• Phase 2 çš„æ ¸å¿ƒåŠŸèƒ½ï¼š
- **DwellTimeCalculator**: åœç•™æ—¶é—´è®¡ç®—å™¨
- **PageTracker**: é¡µé¢è®¿é—®è¿½è¸ª Content Script

## å‰ç½®å‡†å¤‡

1. **æ„å»ºæ‰©å±•**
   ```bash
   npm run build
   ```

2. **åŠ è½½æ‰©å±•åˆ° Chrome**
   - æ‰“å¼€ Chrome æ‰©å±•ç®¡ç†: `chrome://extensions`
   - å¯ç”¨"å¼€å‘è€…æ¨¡å¼"
   - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
   - é€‰æ‹© `build/chrome-mv3-prod` ç›®å½•

## æ ¸å¿ƒç»„ä»¶

### 1. DwellTimeCalculatorï¼ˆåœç•™æ—¶é—´è®¡ç®—å™¨ï¼‰

**æ–‡ä»¶**: `src/core/tracker/DwellTimeCalculator.ts`

**åŠŸèƒ½**:
- è®¡ç®—é¡µé¢æœ‰æ•ˆåœç•™æ—¶é—´
- ç›‘å¬é¡µé¢æ¿€æ´»/å¤±æ´»çŠ¶æ€
- è®°å½•ç”¨æˆ·äº¤äº’ï¼ˆscroll, click, keypress, mousemoveï¼‰
- 30 ç§’äº¤äº’è¶…æ—¶æœºåˆ¶

**æ—¥å¿—ç³»ç»Ÿ**:

| Emoji | äº‹ä»¶ç±»å‹ | è¯´æ˜ |
|-------|---------|------|
| ğŸ• | åˆå§‹åŒ– | è®¡ç®—å™¨å¯åŠ¨ï¼Œæ˜¾ç¤ºå¼€å§‹æ—¶é—´ |
| ğŸ‘ï¸ | é¡µé¢æ¿€æ´» | é¡µé¢ä»å¤±æ´»å˜ä¸ºæ¿€æ´»ï¼Œæ˜¾ç¤ºç´¯è®¡æ—¶é—´ |
| ğŸ™ˆ | é¡µé¢å¤±æ´» | é¡µé¢å¤±æ´»ï¼ˆåˆ‡æ¢æ ‡ç­¾ï¼‰ï¼Œæ˜¾ç¤ºæœ¬æ¬¡æ—¶é•¿ + ç´¯è®¡æ—¶é—´ |
| ğŸ‘† | ç”¨æˆ·äº¤äº’ | scroll/click/keypress/mousemoveï¼Œæ˜¾ç¤ºäº¤äº’é—´éš”å’Œå½“å‰æœ‰æ•ˆæ—¶é—´ |
| â±ï¸ | æœ‰æ•ˆæ—¶é—´ | æ¯ 10 ç§’æˆ–è¶…æ—¶æ—¶è¾“å‡ºï¼Œæ˜¾ç¤ºè¯¦ç»†çŠ¶æ€ï¼ˆç´¯è®¡ã€ç‰‡æ®µã€æœ‰æ•ˆæ—¶é—´ï¼‰ |
| ğŸ”„ | é‡ç½® | è®¡ç®—å™¨é‡ç½®ï¼ˆæ–°é¡µé¢ï¼‰ï¼Œæ˜¾ç¤ºé‡ç½®æ—¶é—´ |

### 2. PageTrackerï¼ˆé¡µé¢è¿½è¸ªå™¨ï¼‰

**æ–‡ä»¶**: `src/contents/page-tracker.ts`

**åŠŸèƒ½**:
- è‡ªåŠ¨æ³¨å…¥åˆ°æ‰€æœ‰ HTTP/HTTPS é¡µé¢
- ä½¿ç”¨ DwellTimeCalculator è®¡ç®—åœç•™æ—¶é—´
- ç›‘å¬ç”¨æˆ·äº¤äº’ï¼ˆscroll, click, keypress, mousemoveï¼‰
- è¾¾åˆ° 30 ç§’é˜ˆå€¼åä¿å­˜åˆ° IndexedDB
- æä¾›è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—

**æ—¥å¿—ç³»ç»Ÿ**:

| Emoji | äº‹ä»¶ç±»å‹ | è¯´æ˜ |
|-------|---------|------|
| ğŸš€ | å¯åŠ¨ | PageTracker åˆå§‹åŒ–ï¼Œæ˜¾ç¤ºé¡µé¢ä¿¡æ¯ |
| ğŸ” | é˜ˆå€¼æ£€æŸ¥ | æ¯ 5 ç§’æ£€æŸ¥æ˜¯å¦è¾¾åˆ° 30 ç§’é˜ˆå€¼ |
| ğŸ¯ | è¾¾åˆ°é˜ˆå€¼ | è¾¾åˆ° 30 ç§’ï¼Œå¼€å§‹è®°å½• |
| ğŸ’¾ | å‡†å¤‡è®°å½• | æ˜¾ç¤ºå°†è¦è®°å½•çš„é¡µé¢ä¿¡æ¯ |
| âœ… | è®°å½•æˆåŠŸ | é¡µé¢è®¿é—®å·²ä¿å­˜åˆ°æ•°æ®åº“ |
| ğŸš« | è·³è¿‡è®°å½• | å·²è®°å½•è¿‡ï¼Œé¿å…é‡å¤ |
| ğŸ‘‹ | é¡µé¢å¸è½½ | é¡µé¢å…³é—­æˆ–è·³è½¬ |
| âŒ | é”™è¯¯ | è®°å½•å¤±è´¥æˆ–å…¶ä»–é”™è¯¯ |

**å·¥ä½œæµç¨‹**:
```
é¡µé¢åŠ è½½
  â†“
ğŸš€ PageTracker å¯åŠ¨
  â†“
ç›‘å¬äº¤äº’ + è®¡ç®—åœç•™æ—¶é—´
  â†“
æ¯ 5 ç§’æ£€æŸ¥ ğŸ”
  â†“
è¾¾åˆ° 30 ç§’ï¼Ÿ
  â†“ æ˜¯
ğŸ¯ è¾¾åˆ°é˜ˆå€¼
  â†“
ğŸ’¾ å‡†å¤‡è®°å½• â†’ ä¿å­˜åˆ° confirmedVisits è¡¨
  â†“
âœ… è®°å½•æˆåŠŸ â†’ é€šçŸ¥ background æ›´æ–°å¾½ç« 
```

## æµ‹è¯•æ­¥éª¤

## æµ‹è¯•æ­¥éª¤

### å‡†å¤‡å·¥ä½œ

1. **æ‰“å¼€ Chrome DevTools**
   - æŒ‰ `F12` æˆ– `Cmd+Option+I` (Mac)
   - åˆ‡æ¢åˆ° Console æ ‡ç­¾
   
2. **è®¾ç½® Console è¿‡æ»¤å™¨**ï¼ˆå¯é€‰ï¼‰
   - ç‚¹å‡»"Filter"è¾“å…¥æ¡†
   - è¾“å…¥ `[PageTracker]` æˆ– `[DwellTime]` åªçœ‹ç›¸å…³æ—¥å¿—

### æµ‹è¯•åœºæ™¯ 1: æ­£å¸¸é¡µé¢æµè§ˆï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰

**ç›®æ ‡**: éªŒè¯é¡µé¢è®¿é—®è¿½è¸ªå’Œåœç•™æ—¶é—´è®¡ç®—

1. æ‰“å¼€ä»»æ„ç½‘é¡µï¼ˆå¦‚ https://github.comï¼‰
2. è§‚å¯Ÿ Console è¾“å‡ºï¼š
   ```
   ğŸš€ [PageTracker] é¡µé¢è®¿é—®è¿½è¸ªå·²å¯åŠ¨ { é¡µé¢: "...", URL: "...", ... }
   ğŸ• [DwellTime] è®¡ç®—å™¨å·²åˆå§‹åŒ– { startTime: "..." }
   âœ… [PageTracker] æ‰€æœ‰ç›‘å¬å™¨å·²è®¾ç½®
   ```
3. æ­£å¸¸æµè§ˆé¡µé¢ï¼ˆæ»šåŠ¨ã€ç‚¹å‡»ï¼‰
4. è§‚å¯Ÿæ¯æ¬¡äº¤äº’çš„æ—¥å¿—ï¼š
   ```
   ğŸ‘† [DwellTime] ç”¨æˆ·äº¤äº’: scroll { time: "...", è·ä¸Šæ¬¡äº¤äº’: "...", ... }
   ```
5. ç­‰å¾… 30 ç§’ï¼ˆæœŸé—´ä¿æŒäº¤äº’ï¼‰
6. è§‚å¯Ÿé˜ˆå€¼è¾¾åˆ°ï¼š
   ```
   ğŸ” [PageTracker] é˜ˆå€¼æ£€æŸ¥ { å½“å‰åœç•™æ—¶é—´: "30.2ç§’", ... }
   ğŸ¯ [PageTracker] è¾¾åˆ°é˜ˆå€¼ï¼Œå¼€å§‹è®°å½•
   ğŸ’¾ [PageTracker] å‡†å¤‡è®°å½•é¡µé¢è®¿é—® { ... }
   âœ… [PageTracker] é¡µé¢è®¿é—®å·²è®°å½•åˆ°æ•°æ®åº“
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… PageTracker å¯åŠ¨æ—¥å¿—å‡ºç°
- âœ… DwellTimeCalculator åˆå§‹åŒ–æ—¥å¿—å‡ºç°
- âœ… æ¯æ¬¡äº¤äº’éƒ½æœ‰æ—¥å¿—è®°å½•
- âœ… 30 ç§’åæ˜¾ç¤º"è¾¾åˆ°é˜ˆå€¼"
- âœ… é¡µé¢è®¿é—®æˆåŠŸè®°å½•åˆ°æ•°æ®åº“

### æµ‹è¯•åœºæ™¯ 2: åˆ‡æ¢æ ‡ç­¾ï¼ˆæš‚åœ/æ¢å¤è®¡æ—¶ï¼‰

**ç›®æ ‡**: éªŒè¯é¡µé¢æ¿€æ´»/å¤±æ´»æ—¶åœæ­¢/æ¢å¤è®¡æ—¶

1. æ‰“å¼€ç½‘é¡µå¹¶æµè§ˆ 15 ç§’
2. åˆ‡æ¢åˆ°å…¶ä»–æ ‡ç­¾é¡µ
3. è§‚å¯Ÿæ—¥å¿—ï¼š
   ```
   ğŸ™ˆ [DwellTime] é¡µé¢å¤±æ´» { time: "...", æœ¬æ¬¡æ¿€æ´»æ—¶é•¿: "15.0ç§’", ... }
   ```
4. ç­‰å¾… 10 ç§’
5. åˆ‡å›åŸæ ‡ç­¾é¡µ
6. è§‚å¯Ÿæ—¥å¿—ï¼š
   ```
   ğŸ‘ï¸ [DwellTime] é¡µé¢æ¿€æ´» { time: "...", ç´¯è®¡æ¿€æ´»æ—¶é—´: "15.0ç§’" }
   ```
7. ç»§ç»­æµè§ˆ 15 ç§’ï¼ˆæ€»è®¡ 30 ç§’ï¼‰
8. è§‚å¯Ÿè®°å½•æ—¥å¿—

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¤±æ´»æ—¶è¾“å‡º ğŸ™ˆ æ—¥å¿—
- âœ… æ¿€æ´»æ—¶è¾“å‡º ğŸ‘ï¸ æ—¥å¿—
- âœ… ç´¯è®¡æ—¶é—´æ­£ç¡®ï¼ˆ15 + 15 = 30 ç§’ï¼‰
- âœ… è¾¾åˆ°é˜ˆå€¼åæ­£å¸¸è®°å½•

### æµ‹è¯•åœºæ™¯ 3: 30 ç§’äº¤äº’è¶…æ—¶

**ç›®æ ‡**: éªŒè¯è¶…æ—¶æœºåˆ¶

1. æ‰“å¼€ç½‘é¡µå¹¶æµè§ˆ 20 ç§’ï¼ˆæœ‰äº¤äº’ï¼‰
2. åœæ­¢æ‰€æœ‰æ“ä½œï¼Œç­‰å¾… 35 ç§’
3. è§‚å¯Ÿæ—¥å¿—ï¼š
   ```
   â±ï¸ [DwellTime] æœ‰æ•ˆåœç•™æ—¶é—´ {
     ...,
     æœ‰æ•ˆæ—¶é—´: "50.0ç§’", // 20 + 30 = 50
     çŠ¶æ€: "âš ï¸ è¶…æ—¶ï¼ˆ30ç§’æ— äº¤äº’ï¼‰"
   }
   ```
4. é‡æ–°æ»šåŠ¨é¡µé¢
5. è§‚å¯Ÿæ—¥å¿—ï¼š
   ```
   ğŸ‘† [DwellTime] ç”¨æˆ·äº¤äº’: scroll { è·ä¸Šæ¬¡äº¤äº’: "35.0ç§’", ... }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¶…æ—¶åæ˜¾ç¤º âš ï¸ è­¦å‘Š
- âœ… æœ‰æ•ˆæ—¶é—´è¢«æˆªæ–­åˆ° "æœ€åäº¤äº’ + 30ç§’"
- âœ… æ–°äº¤äº’åæ¢å¤æ­£å¸¸è®¡æ—¶

### æµ‹è¯•åœºæ™¯ 4: å¿«é€Ÿå…³é—­é¡µé¢

**ç›®æ ‡**: éªŒè¯é¡µé¢å¸è½½æ—¶çš„å¤„ç†

1. æ‰“å¼€ç½‘é¡µå¹¶æµè§ˆ 15 ç§’ï¼ˆæœªè¾¾åˆ°é˜ˆå€¼ï¼‰
2. ç›´æ¥å…³é—­æ ‡ç­¾é¡µæˆ–è·³è½¬åˆ°å…¶ä»–é¡µé¢
3. è§‚å¯Ÿæ—¥å¿—ï¼š
   ```
   ğŸ‘‹ [PageTracker] é¡µé¢å¸è½½ {
     æœ€ç»ˆåœç•™æ—¶é—´: "15.0ç§’",
     æ˜¯å¦å·²è®°å½•: "âŒ å¦"
   }
   ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… é¡µé¢å¸è½½æ—¥å¿—å‡ºç°
- âœ… æœªè¾¾åˆ°é˜ˆå€¼çš„é¡µé¢ä¸è®°å½•
- âœ… æ— é”™è¯¯æ—¥å¿—

### æµ‹è¯•åœºæ™¯ 5: æ•°æ®åº“éªŒè¯

**ç›®æ ‡**: éªŒè¯æ•°æ®æ­£ç¡®ä¿å­˜åˆ° IndexedDB

1. åœ¨å¤šä¸ªé¡µé¢æµè§ˆå¹¶è¾¾åˆ° 30 ç§’é˜ˆå€¼
2. æ‰“å¼€ Chrome DevTools â†’ Application â†’ IndexedDB
3. å±•å¼€ `FeedAIMuterDB` â†’ `confirmedVisits`
4. æŸ¥çœ‹è®°å½•

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ¯ä¸ªè¾¾åˆ°é˜ˆå€¼çš„é¡µé¢éƒ½æœ‰è®°å½•
- âœ… è®°å½•åŒ…å« url, title, domain, visitTime, duration
- âœ… duration â‰¥ 30 ç§’
- âœ… analysis å­—æ®µå­˜åœ¨ï¼ˆå³ä½¿ä¸ºç©ºï¼‰

## æ£€æŸ¥æ¸…å•

### åœºæ™¯ 1: æ­£å¸¸æµè§ˆ

1. æ‰“å¼€ä»»æ„ç½‘é¡µ
2. æ­£å¸¸æ»šåŠ¨ã€ç‚¹å‡»é¡µé¢
3. **é¢„æœŸ**ï¼š
   - æµ®åŠ¨é¢æ¿æ˜¾ç¤ºé€’å¢çš„åœç•™æ—¶é—´
   - Console æ¯ 10 ç§’è¾“å‡º â±ï¸ æ—¥å¿—
   - æ¯æ¬¡äº¤äº’è¾“å‡º ğŸ‘† æ—¥å¿—

### åœºæ™¯ 2: åˆ‡æ¢æ ‡ç­¾

1. åœ¨é¡µé¢åœç•™ä¸€æ®µæ—¶é—´ï¼ˆå¦‚ 20 ç§’ï¼‰
2. åˆ‡æ¢åˆ°å…¶ä»–æ ‡ç­¾é¡µ
3. 30 ç§’ååˆ‡å›åŸé¡µé¢
4. **é¢„æœŸ**ï¼š
   - åˆ‡æ¢ç¦»å¼€æ—¶è¾“å‡º ğŸ™ˆ æ—¥å¿—ï¼ˆæ˜¾ç¤ºæœ¬æ¬¡ 20 ç§’ï¼‰
   - åˆ‡å›æ—¶è¾“å‡º ğŸ‘ï¸ æ—¥å¿—ï¼ˆæ˜¾ç¤ºç´¯è®¡ 20 ç§’ï¼‰
   - å› ä¸ºè¶…è¿‡ 30 ç§’ï¼Œæœ‰æ•ˆæ—¶é—´è¢«æˆªæ–­åˆ°æœ€åäº¤äº’ + 30 ç§’

### åœºæ™¯ 3: 30 ç§’è¶…æ—¶

1. åœ¨é¡µé¢åœç•™ 15 ç§’å¹¶äº¤äº’
2. åœæ­¢æ‰€æœ‰æ“ä½œï¼Œç­‰å¾… 35 ç§’
3. **é¢„æœŸ**ï¼š
   - æµ®åŠ¨é¢æ¿æ˜¾ç¤ºæœ‰æ•ˆæ—¶é—´åœæ­¢å¢é•¿ï¼ˆå¡åœ¨ 45 ç§’ï¼‰
   - Console è¾“å‡º â±ï¸ æ—¥å¿—ï¼ŒçŠ¶æ€ä¸º "âš ï¸ è¶…æ—¶ï¼ˆ30ç§’æ— äº¤äº’ï¼‰"
   - æœ‰æ•ˆæ—¶é—´ = æœ€åäº¤äº’æ—¶é—´ + 30 ç§’

### åœºæ™¯ 4: è¶…æ—¶åæ¢å¤

1. åœ¨åœºæ™¯ 3 çš„åŸºç¡€ä¸Šï¼Œé‡æ–°æ»šåŠ¨é¡µé¢
2. **é¢„æœŸ**ï¼š
   - è¾“å‡º ğŸ‘† æ—¥å¿—ï¼Œæ˜¾ç¤º "è·ä¸Šæ¬¡äº¤äº’: 35.0ç§’"
   - æœ‰æ•ˆæ—¶é—´ä»è¶…æ—¶æˆªæ–­ç‚¹ç»§ç»­å¢é•¿
   - çŠ¶æ€å˜ä¸º "âœ… æ­£å¸¸"

### åœºæ™¯ 5: å¿«é€Ÿåˆ‡æ¢æ ‡ç­¾

1. åœ¨é¡µé¢ A åœç•™ 5 ç§’
2. åˆ‡åˆ°é¡µé¢ B åœç•™ 3 ç§’
3. åˆ‡å›é¡µé¢ A åœç•™ 10 ç§’
4. **é¢„æœŸ**ï¼š
   - é¡µé¢ A çš„ç´¯è®¡æ—¶é—´ä¸º 5 + 10 = 15 ç§’
   - æ¯æ¬¡åˆ‡æ¢éƒ½æœ‰ ğŸ™ˆ/ğŸ‘ï¸ æ—¥å¿—
   - çŠ¶æ€æŠ¥å‘Šæ˜¾ç¤ºæ­£ç¡®çš„ç´¯è®¡æ—¶é—´

## éªŒè¯è¦ç‚¹

### âœ… åŸºç¡€åŠŸèƒ½

- [ ] æµ®åŠ¨é¢æ¿æ­£ç¡®æ˜¾ç¤º
- [ ] Console æ—¥å¿—ä½¿ç”¨ emoji å‰ç¼€
- [ ] æ—¥å¿—åŒ…å«æ—¶é—´æˆ³ï¼ˆHH:mm:ss æ ¼å¼ï¼‰
- [ ] æ¯ 5 ç§’è¾“å‡ºçŠ¶æ€æŠ¥å‘Š

### âœ… åœç•™æ—¶é—´è®¡ç®—

- [ ] æ­£å¸¸æµè§ˆæ—¶æ—¶é—´é€’å¢
- [ ] åˆ‡æ¢æ ‡ç­¾æ—¶åœæ­¢è®¡æ—¶
- [ ] åˆ‡å›æ ‡ç­¾æ—¶æ¢å¤è®¡æ—¶
- [ ] ç´¯è®¡æ—¶é—´è·¨è¶Šå¤šæ¬¡æ¿€æ´»/å¤±æ´»æ­£ç¡®

### âœ… äº¤äº’æ£€æµ‹

- [ ] æ»šåŠ¨è§¦å‘äº¤äº’ï¼ˆèŠ‚æµ 2 ç§’ï¼‰
- [ ] ç‚¹å‡»è§¦å‘äº¤äº’
- [ ] é”®ç›˜è¾“å…¥è§¦å‘äº¤äº’
- [ ] é¼ æ ‡ç§»åŠ¨è§¦å‘äº¤äº’ï¼ˆèŠ‚æµ 5 ç§’ï¼‰

### âœ… è¶…æ—¶æœºåˆ¶

- [ ] 30 ç§’æ— äº¤äº’æ—¶åœæ­¢è®¡æ—¶
- [ ] è¶…æ—¶åæ˜¾ç¤º âš ï¸ è­¦å‘Š
- [ ] æ–°äº¤äº’åæ¢å¤è®¡æ—¶
- [ ] è¶…æ—¶æˆªæ–­æ—¶é—´æ­£ç¡®ï¼ˆæœ€åäº¤äº’ + 30sï¼‰

### âœ… æ€§èƒ½

- [ ] æ—¥å¿—ä¸å¡é¡¿é¡µé¢
- [ ] æµ®åŠ¨é¢æ¿ä¸å½±å“é¡µé¢æ“ä½œ
- [ ] é•¿æ—¶é—´è¿è¡Œä¸å¯¼è‡´å†…å­˜æ³„æ¼

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæœ‰æ•ˆæ—¶é—´æ¯”å®é™…åœç•™æ—¶é—´å°‘ï¼Ÿ

**A**: è¿™æ˜¯æ­£å¸¸çš„ï¼Œåªæœ‰"æ¿€æ´» + 30 ç§’å†…æœ‰äº¤äº’"çš„æ—¶é—´æ‰è®¡å…¥æœ‰æ•ˆæ—¶é—´ã€‚å¦‚æœï¼š
- é¡µé¢åœ¨åå°è¿è¡Œï¼ˆåˆ‡æ¢æ ‡ç­¾ï¼‰
- è¶…è¿‡ 30 ç§’æ— ä»»ä½•äº¤äº’

è¿™äº›æ—¶é—´éƒ½ä¸ä¼šè®¡å…¥ã€‚

### Q2: ä¸ºä»€ä¹ˆåˆ‡æ¢æ ‡ç­¾åæ—¶é—´æ²¡å˜ï¼Ÿ

**A**: é¡µé¢å¤±æ´»æ—¶åœæ­¢è®¡æ—¶ï¼Œåˆ‡å›æ¥åæ‰ç»§ç»­ã€‚æµ®åŠ¨é¢æ¿æ˜¾ç¤ºçš„æ˜¯"æœ‰æ•ˆåœç•™æ—¶é—´"ï¼Œä¸åŒ…æ‹¬å¤±æ´»æœŸé—´ã€‚

### Q3: ä¸ºä»€ä¹ˆæ—¥å¿—è¾“å‡ºå¾ˆå¤šï¼Ÿ

**A**: è¿™æ˜¯è°ƒè¯•æ¨¡å¼çš„æ­£å¸¸ç°è±¡ã€‚å®é™…ä½¿ç”¨æ—¶è¿™äº›æ—¥å¿—ä¼šè¢«ç§»é™¤æˆ–åªåœ¨å¼€å‘ç¯å¢ƒå¯ç”¨ã€‚

### Q4: å¦‚ä½•ç¦ç”¨æµ®åŠ¨é¢æ¿ï¼Ÿ

**A**: ç¼–è¾‘ `src/contents/dwell-time-demo.ts`ï¼Œæ³¨é‡Šæ‰ `createDebugPanel()` è°ƒç”¨ï¼Œç„¶åé‡æ–°æ„å»ºã€‚

### Q5: æ—¥å¿—å¤ªå¤šçœ‹ä¸æ¸…ï¼Ÿ

**A**: åœ¨ Chrome DevTools Console ä½¿ç”¨è¿‡æ»¤å™¨ï¼š
- åªçœ‹äº¤äº’: è¾“å…¥ `ğŸ‘†`
- åªçœ‹è¶…æ—¶: è¾“å…¥ `âš ï¸`
- åªçœ‹çŠ¶æ€: è¾“å…¥ `â±ï¸`

## è°ƒè¯•æŠ€å·§

### 1. ä½¿ç”¨ Console è¿‡æ»¤

```
// åªçœ‹ DwellTime ç›¸å…³æ—¥å¿—
[DwellTime]

// åªçœ‹äº¤äº’
ğŸ‘†

// åªçœ‹çŠ¶æ€æŠ¥å‘Š
ğŸ“Š [Demo]
```

### 2. ä¿®æ”¹èŠ‚æµé—´éš”

å¦‚æœæƒ³æ›´é¢‘ç¹åœ°çœ‹åˆ°äº¤äº’æ—¥å¿—ï¼Œä¿®æ”¹ `dwell-time-demo.ts`:

```typescript
// æ»šåŠ¨èŠ‚æµ: 2 ç§’ â†’ 1 ç§’
if (now - lastScrollTime > 1000) { ... }

// é¼ æ ‡ç§»åŠ¨èŠ‚æµ: 5 ç§’ â†’ 2 ç§’
if (now - lastMouseMoveTime > 2000) { ... }
```

### 3. è‡ªå®šä¹‰çŠ¶æ€æŠ¥å‘Šé—´éš”

```typescript
// 5 ç§’ â†’ 10 ç§’
setInterval(() => { ... }, 10000)
```

### 4. æŸ¥çœ‹è¯¦ç»†æ—¶é—´æˆ³

åœ¨ `DwellTimeCalculator.ts` çš„ `getEffectiveDwellTime()` ä¸­ï¼Œå–æ¶ˆæ³¨é‡Šæ—¶é—´æˆ³æ—¥å¿—ï¼š

```typescript
console.log('â±ï¸ [DwellTime] è¯¦ç»†æ—¶é—´æˆ³', {
  startTime: this.startTime,
  lastActiveTime: this.lastActiveTime,
  lastInteractionTime: this.lastInteractionTime,
  now: Date.now()
})
```

## ä¸‹ä¸€æ­¥

æµ‹è¯•å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. **ç§»é™¤æ¼”ç¤ºä»£ç **ï¼ˆç”Ÿäº§ç¯å¢ƒä¸éœ€è¦ï¼‰
   ```bash
   git rm src/contents/dwell-time-demo.ts
   ```

2. **å‡å°‘æ—¥å¿—çº§åˆ«**
   - ä¿ç•™é”™è¯¯å’Œè­¦å‘Šæ—¥å¿—
   - ç§»é™¤è°ƒè¯•æ—¥å¿—ï¼ˆ`console.log`ï¼‰

3. **è¿›å…¥ Phase 2.3**
   - å®ç° PageFilterï¼ˆé¡µé¢è¿‡æ»¤å™¨ï¼‰
   - é›†æˆ DwellTimeCalculator åˆ°å®Œæ•´çš„é¡µé¢è¿½è¸ªç³»ç»Ÿ

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-11-02  
**ç›¸å…³æ–‡ä»¶**:
- `src/core/tracker/DwellTimeCalculator.ts` - æ ¸å¿ƒè®¡ç®—å™¨
- `src/contents/dwell-time-demo.ts` - æ¼”ç¤º Content Script
- `src/core/tracker/DwellTimeCalculator.test.ts` - å•å…ƒæµ‹è¯•
